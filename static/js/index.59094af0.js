(()=>{"use strict";var e,t,n,r,i={113:function(e,t,n){var r=n(848),i=n(540);function s(){return(0,r.jsx)("footer",{className:"page-footer green lighten-4",children:(0,r.jsx)("div",{className:"footer-copyright",children:(0,r.jsxs)("div",{className:"container",children:["\xa9 ",new Date().getFullYear()," Copyright Text",(0,r.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/michey85/react-shop",rel:"noreferrer",target:"_blank",children:"Repo"})]})})})}function a(){return(0,r.jsx)("nav",{className:"green darken-1",children:(0,r.jsxs)("div",{className:"nav-wrapper",children:[(0,r.jsx)("a",{href:"/",className:"brand-logo",children:"React Shop"}),(0,r.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/michey85/react-shop",target:"_blank",rel:"noreferrer",children:"Repo"})})})]})})}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function l(e){let{name:t="",closeAlert:n=Function.prototype}=e;return(0,i.useEffect)(()=>{let e=setTimeout(n,3e3);return()=>{clearTimeout(e)}},[t]),(0,r.jsx)("div",{id:"toast-container",children:(0,r.jsxs)("div",{className:"toast",children:[t," добавлен в корзину"]})})}function u(e){let{id:t,name:n,price:i,quantity:s,removeFromBasket:a=Function.prototype,incQuantity:c=Function.prototype,decQuantity:o=Function.prototype}=e;return(0,r.jsxs)("li",{className:"collection-item",children:[n," ",(0,r.jsx)("button",{className:"material-icons basket-quantity",onClick:()=>o(t),onKeyDown:e=>"Enter"===e.key||" "===e.key?o(t):null,type:"button","aria-label":"Decrease quantity",children:"remove"})," ","x",s," ",(0,r.jsx)("button",{className:"material-icons basket-quantity",onClick:()=>c(t),onKeyDown:e=>"Enter"===e.key||" "===e.key?c(t):null,type:"button","aria-label":"Increase quantity",children:"add"})," ","= ",i*s," руб.",(0,r.jsx)("button",{className:"secondary-content material-icons basket-delete",onClick:()=>a(t),onKeyDown:()=>a(t),type:"button",children:"close"})]})}function d(e){let{order:t=[],handleBasketShow:n=Function.prototype,removeFromBasket:i=Function.prototype,incQuantity:s,decQuantity:a}=e,o=t.reduce((e,t)=>e+t.price*t.quantity,0);return(0,r.jsxs)("ul",{className:"collection basket-list",children:[(0,r.jsx)("li",{className:"collection-item active",children:"Корзина"}),t.length?t.map(e=>(0,r.jsx)(u,c({removeFromBasket:i,incQuantity:s,decQuantity:a},e),e.id)):(0,r.jsx)("li",{className:"collection-item",children:"Корзина пуста"}),(0,r.jsxs)("li",{className:"collection-item active",children:["Общая стоимость: ",o," руб."]}),(0,r.jsx)("li",{className:"collection-item",children:(0,r.jsx)("button",{type:"button",className:"btn btn-small",children:"Оформить"})}),(0,r.jsx)("button",{type:"button",className:"material-icons basket-close",onClick:n,onKeyDown:n,children:"close"})]})}function h(e){let{quantity:t=0,handleBasketShow:n=Function.prototype}=e;return(0,r.jsxs)("div",{className:"cart blue darken-4 white-text",onClick:n,children:[(0,r.jsx)("i",{className:"material-icons",children:"shopping_cart"}),t?(0,r.jsx)("span",{className:"cart-quantity",children:t}):null]})}function p(e){let{mainId:t,displayName:n,displayDescription:i,price:{regularPrice:s},displayAssets:[{full_background:a,background:c}],addToBasket:o=Function.prototype}=e;return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-image",children:(0,r.jsx)("img",{src:null!=a?a:c,alt:n})}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("span",{className:"card-title",children:n}),(0,r.jsx)("p",{children:i})]}),(0,r.jsxs)("div",{className:"card-action",children:[(0,r.jsx)("button",{type:"button",className:"btn",onClick:()=>o({id:t,name:n,price:s}),children:"Купить"}),(0,r.jsxs)("span",{className:"right",style:{fontSize:"1.8rem"},children:[s," руб."]})]})]})}function m(e){let{goods:t=[],addToBasket:n=Function.prototype}=e;return t.length?(0,r.jsx)("div",{className:"goods",children:t.map(e=>e.mainId&&(0,r.jsx)(p,o(c({},e),{addToBasket:n}),e.mainId))}):(0,r.jsx)("h3",{children:"Nothing here"})}function y(){return(0,r.jsx)("div",{className:"progress",children:(0,r.jsx)("div",{className:"indeterminate"})})}function j(){let[e,t]=(0,i.useState)([]),[n,s]=(0,i.useState)(!0),[a,u]=(0,i.useState)([]),[p,j]=(0,i.useState)(!1),[f,b]=(0,i.useState)(""),x=()=>{j(!p)};return(0,i.useEffect)(function(){fetch("https://fortniteapi.io/v2/shop?lang=ru&date=2022-01-01",{headers:{Authorization:"b1036bbb-be62e965-f85a8fe6-9d3c4535"}}).then(e=>e.json()).then(e=>{e.shop&&t(e.shop),s(!1)})},[]),(0,r.jsxs)("main",{className:"container content",children:[(0,r.jsx)(h,{quantity:a.length,handleBasketShow:x}),n?(0,r.jsx)(y,{}):(0,r.jsx)(m,{goods:e,addToBasket:e=>{let t=a.findIndex(t=>t.id===e.id);t<0?u([...a,o(c({},e),{quantity:1})]):u(a.map((e,n)=>n===t?o(c({},e),{quantity:e.quantity+1}):e)),b(e.name)}}),p&&(0,r.jsx)(d,{order:a,handleBasketShow:x,removeFromBasket:e=>{u(a.filter(t=>t.id!==e))},incQuantity:e=>{u(a.map(t=>{if(t.id!==e)return t;{let e=t.quantity+1;return o(c({},t),{quantity:e})}}))},decQuantity:e=>{u(a.map(t=>{if(t.id!==e)return t;{let e=t.quantity-1;return o(c({},t),{quantity:e>=0?e:0})}}))}}),f&&(0,r.jsx)(l,{name:f,closeAlert:()=>{b("")}})]})}n(338).createRoot(document.getElementById("root")).render((0,r.jsx)(i.StrictMode,{children:(0,r.jsx)(function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{}),(0,r.jsx)(j,{}),(0,r.jsx)(s,{})]})},{})}))}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return i[e](n,n.exports,a),n.exports}a.m=i,a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=[],a.O=(t,n,r,i)=>{if(n){i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,r,i];return}for(var c=1/0,s=0;s<e.length;s++){for(var n=e[s][0],r=e[s][1],i=e[s][2],o=!0,l=0;l<n.length;l++)(!1&i||c>=i)&&Object.keys(a.O).every(e=>a.O[e](n[l]))?n.splice(l--,1):(o=!1,i<c&&(c=i));if(o){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t},t={410:0},a.O.j=e=>0===t[e],n=(e,n)=>{var r,i,s=n[0],c=n[1],o=n[2],l=0;if(s.some(e=>0!==t[e])){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(o)var u=o(a)}for(e&&e(n);l<s.length;l++)i=s[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},(r=self.webpackChunkshop_project=self.webpackChunkshop_project||[]).forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r));var c=a.O(void 0,["783"],function(){return a(113)});c=a.O(c)})();